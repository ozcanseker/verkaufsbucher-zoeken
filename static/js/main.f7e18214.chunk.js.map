{"version":3,"sources":["assets/GoldMarker.png","assets/Logo-NA.png","assets/marker-shadow.png","routes/pages/StartScreen.js","model/Observable.js","model/Resultaat.js","routes/pages/ResultScreen.js","model/Person.js","network/Communicator.js","routes/pages/ObjectScreen.js","routes/Routes.js","components/NavBar.js","components/Loader.js","model/ResultatenHouder.js","model/ClickedResultaat.js","components/Icons.js","components/ContextMenu.js","App.js","serviceWorker.js","index.js"],"names":["module","exports","StartScreen","className","React","Component","Observable","this","_subscribers","map","subscriber","update","push","filter","subscriberList","Resultaat","url","koper","verkoper","adres","geoJson","_url","_koper","_verkoper","_adres","_geoJson","_onHoverDef","undefined","_onHoverOffDef","type","properties","geometry","func","ResultScreen","elements","props","res","getRightClickedRes","length","getResults","pElementKoper","pElementVerkoper","pElementAdress","getKoper","getVerkoper","getAdres","key","getUrl","onClick","onClickItem","onMouseEnter","_onHover","onMouseLeave","_onHoverOff","Person","name","country","city","label","_name","_location","latestString","text","method","a","queryDATALABSKADASTER","string","match","status","makeSearchScreenResults","JSON","parse","results","bindings","forEach","value","streetname","replace","sale","buyers","sellers","wellKnown","point","lat","long","top","left","bottom","right","queryByLocation","clickedRes","Map","has","buyer","set","namebuyer","countrybuyer","adresbuyer","citybuyer","labelbuyer","seller","nameseller","countryseller","adresseller","cityseller","labelseller","first","price","streetadres","place","stad","date","substr","Array","from","values","loadInAttributes","query","fetch","headers","body","righ","formatNumber","num","parseInt","toString","ObjectScreen","getClickedResultinfo","Communicator","clickedResult","then","setState","state","tableNamen","tableRest","getPlace","kopers","getBuyers","strings","getName","getLocation","verkoopprijs","koopdatum","ertovf","verkopers","getSellers","getDate","getPrice","Routes","exact","path","component","render","getHexFromColor","EmptyBar","class_","loading","BackButton","onBack","style","float","aantalZoekResultaten","NavBar","Loader","width","color","height","ResultatenHouder","_results","_rightClickedResults","_clickedResult","clicked","subscribe","updateSubscribers","unsubscribe","geojson","getGeoJson","getAsFeature","ClickedResultaat","_res","_price","_place","_date","_buyers","_sellers","Icons","L","Icon","Default","iconUrl","MarkerGold","iconRetinaUrl","imagePath","shadowUrl","MarkerShadow","DefaultIcon","ContextMenu","updateWindowDimensions","widthPage","window","innerWidth","heightPage","innerHeight","mousedOver","updateWindowDimensionsDebounce","_","debounce","addEventListener","removeEventListener","prevProps","prevState","snapshot","yMenu","div","clientHeight","xMenu","clientWidth","myStyle","coordinates","y","x","position","display","objectsOverLayedOnMap","head","sub","subColor","ref","resetCoordinates","onContextMenu","e","preventDefault","App","mapInit","minZoom","center","zoom","maxBounds","tileLayer","attribution","addTo","on","handleRightMouseClick","doubleClickZoom","disable","geoJsonLayer","geoJSON","onEachFeature","handleGeoJsonLayerDrawing","pointToLayer","addMarker","getStyle","markerGroup","featureGroup","clickedOnLayeredMap","feature","getColor","latLong","latlng","closePopup","popup","matchPath","location","pathname","strict","clearAll","history","goBack","isFetching","searchQuery","bounds","getBounds","lng","getNorth","getWest","getSouth","getEast","setDoubleResults","marker","bindPopup","autoPan","closeButton","onHover","openPopup","setIcon","bind","onHoverOff","_setOnHover","_setOnHoverOff","getAllGeoJsonObjectContainingPoint","getClickedResult","getClickedAllObjectsAsFeature","getSearchedAllObjectsAsFeature","col","features","inside","layer","getCenterGeoJson","contains","content","getNaam","getType","reverse","join","setLatLng","setContent","openOn","throttle","getContent","options","originalEvent","pageX","pageY","resetClickedOnLayeredMap","setClickedResult","getZoom","setView","centroid","turf","lon","onSearchChange","data","clearClickedResult","clearDoubleResults","debounceDoSearch","doSearch","go","trim","currentSelected","setResults","handleDeleteClick","handleOnBackButtonClick","updateMapDebounce","updateMap","dropDownSelector","v","clearLayers","addData","geoJsonResults","onFocus","getZoekResultatenAantal","updateIng","gearIcon","icon","description","Dropdown","upward","Menu","Header","Divider","option","Item","active","link","to","src","KadasterImg","alt","Search","input","fluid","noResultsMessage","open","href","target","rel","id","withRouter","Boolean","hostname","ReactDOM","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.f7e18214.chunk.js","sourcesContent":["module.exports = \"data:image/png;base64,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\"","module.exports = __webpack_public_path__ + \"static/media/Logo-NA.ebed2b1b.png\";","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACkAAAApCAQAAAACach9AAACMUlEQVR4Ae3ShY7jQBAE0Aoz/f9/HTMzhg1zrdKUrJbdx+Kd2nD8VNudfsL/Th///dyQN2TH6f3y/BGpC379rV+S+qqetBOxImNQXL8JCAr2V4iMQXHGNJxeCfZXhSRBcQMfvkOWUdtfzlLgAENmZDcmo2TVmt8OSM2eXxBp3DjHSMFutqS7SbmemzBiR+xpKCNUIRkdkkYxhAkyGoBvyQFEJEefwSmmvBfJuJ6aKqKWnAkvGZOaZXTUgFqYULWNSHUckZuR1HIIimUExutRxwzOLROIG4vKmCKQt364mIlhSyzAf1m9lHZHJZrlAOMMztRRiKimp/rpdJDc9Awry5xTZCte7FHtuS8wJgeYGrex28xNTd086Dik7vUMscQOa8y4DoGtCCSkAKlNwpgNtphjrC6MIHUkR6YWxxs6Sc5xqn222mmCRFzIt8lEdKx+ikCtg91qS2WpwVfBelJCiQJwvzixfI9cxZQWgiSJelKnwBElKYtDOb2MFbhmUigbReQBV0Cg4+qMXSxXSyGUn4UbF8l+7qdSGnTC0XLCmahIgUHLhLOhpVCtw4CzYXvLQWQbJNmxoCsOKAxSgBJno75avolkRw8iIAFcsdc02e9iyCd8tHwmeSSoKTowIgvscSGZUOA7PuCN5b2BX9mQM7S0wYhMNU74zgsPBj3HU7wguAfnxxjFQGBE6pwN+GjME9zHY7zGp8wVxMShYX9NXvEWD3HbwJf4giO4CFIQxXScH1/TM+04kkBiAAAAAElFTkSuQmCC\"","import React from 'react';\r\n\r\nclass StartScreen extends React.Component {\r\n    render() {\r\n        return (\r\n            <div className=\"startScreen\">\r\n                <p className=\"boldHeaderText\">Verkaufsbücher</p>\r\n                <p className=\"explainText\">\r\n                    Op deze website worden nieuwe technieken ingezet om oude gegevens op een andere manier toegankelijk\r\n                    te maken. Zo ontstaat er bijzonder en nieuw inzicht in het verleden.<br/><br/>\r\n                    De Verkaufsbücher vormen een overzicht van ruim 7000 gedwongen transacties van onroerend goed uit de\r\n                    Tweede Wereldoorlog. Tijdens de bezetting worden door de Duitsers panden verkocht waarvan de\r\n                    eigenaren veelal Joods zijn. Deze administratieve registers zijn de zogenaamde Verkaufsbücher en\r\n                    deze worden bewaard bij het Nationaal Archief.<br/><br/>\r\n                    De gegevens uit de Verkaufsbücher zijn nu gekoppeld aan gegevens van het Kadaster, waardoor deze\r\n                    onrechtmatige verhandelingen letterlijk in kaart kunnen worden gebracht.<br/>\r\n                </p>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default StartScreen;","class Observable{\r\n    constructor() {\r\n        this._subscribers = [];\r\n    }\r\n\r\n    updateSubscribers(){\r\n        this._subscribers.map(subscriber => subscriber.update());\r\n    }\r\n\r\n    /**\r\n     * Als je wilt subscriben moet je de methode update implementeren.\r\n     * Ook niet vergeten om te unsubscriben.\r\n     * @param subscriber\r\n     */\r\n    subscribe(subscriber){\r\n        this._subscribers.push(subscriber);\r\n    }\r\n\r\n    unsubscribe(subscriber){\r\n        this._subscribers.filter(subscriberList  => {\r\n            return subscriberList !== subscriber;\r\n        });\r\n    }\r\n}\r\n\r\nexport default Observable;","/**\r\n * Een resultaat op het resultaten scherm.\r\n */\r\nimport Observable from \"./Observable\";\r\n\r\nclass Resultaat extends Observable{\r\n    /**\r\n     * @param url string\r\n     * @param koper\r\n     * @param verkoper\r\n     * @param adres\r\n     * @param geoJson geoJson object\r\n     */\r\n    constructor(url , koper, verkoper, adres,geoJson){\r\n        super();\r\n        this._url = url;\r\n\r\n        this._koper = koper;\r\n        this._verkoper = verkoper;\r\n        this._adres = adres;\r\n        this._geoJson = geoJson;\r\n\r\n        this._onHoverDef = undefined;\r\n        this._onHoverOffDef = undefined;\r\n    }\r\n\r\n    getVerkoper(){\r\n        return this._verkoper;\r\n    }\r\n\r\n    getKoper(){\r\n        return this._koper;\r\n    }\r\n\r\n    getUrl(){\r\n        return this._url;\r\n    }\r\n\r\n    getGeoJson(){\r\n        return this._geoJson;\r\n    }\r\n\r\n    setGeoJson(geoJson){\r\n        this._geoJson = geoJson;\r\n    }\r\n\r\n    getAdres(){\r\n        return this._adres;\r\n    }\r\n\r\n    /**\r\n     * Geeft een feature object terug met zichzelf en geojson\r\n     * @returns {{geometry: GeoJson, properties: Resultaat}}\r\n     */\r\n    getAsFeature(){\r\n        return  {\r\n            type: \"Feature\",\r\n            properties: this,\r\n            geometry: this._geoJson\r\n        }\r\n    }\r\n\r\n    _setOnHover(func){\r\n        this._onHoverDef = func;\r\n    }\r\n\r\n    _setOnHoverOff(func){\r\n        this._onHoverOffDef = func;\r\n    }\r\n\r\n    _onHover(){\r\n        if(this._onHoverDef){\r\n            this._onHoverDef();\r\n        }\r\n    }\r\n\r\n    _onHoverOff(){\r\n        if (this._onHoverOffDef) {\r\n            this._onHoverOffDef()\r\n        }\r\n    }\r\n}\r\n\r\nexport default Resultaat;","import React from 'react';\r\nimport Resultaat from \"../../model/Resultaat\";\r\n\r\nclass ResultScreen extends React.Component {\r\n    render() {\r\n        let results = this.props.res.getRightClickedRes().length > 0 ? this.props.res.getRightClickedRes() : this.props.res.getResults();\r\n\r\n        let elements = results.map(res => {\r\n            let pElementKoper = (<p className= \"hoofdText\">&nbsp;</p>);\r\n            let pElementVerkoper = (<p className= \"hoofdText\">&nbsp;</p>);\r\n            let pElementAdress = <p className= \"subText\">&nbsp;</p>;\r\n\r\n            if(res.getKoper()){\r\n                pElementKoper = (<p className= \"hoofdText\"><b>Koper</b> : {res.getKoper()}</p>);\r\n            }\r\n\r\n            if(res.getVerkoper()){\r\n                pElementVerkoper = (<p className= \"hoofdText\">\r\n                    <b>Verkoper</b> : {res.getVerkoper()}\r\n                </p>);\r\n            }\r\n\r\n            if(res.getAdres()){\r\n                pElementAdress = (<p className= \"subText\">\r\n                    {res.getAdres()}\r\n                </p>);\r\n            }\r\n\r\n            return (<li key={res.getUrl()}\r\n                        className=\"liResultScreen\"\r\n                        onClick={() => {this.props.onClickItem(res)}}\r\n                        onMouseEnter={() => {res._onHover()}}\r\n                        onMouseLeave={() => {res._onHoverOff()}}>\r\n                {pElementVerkoper}\r\n                {pElementKoper}\r\n                {pElementAdress}\r\n            </li>)\r\n        });\r\n\r\n        return(\r\n            <div className=\"homeScreen\">\r\n                <ul>\r\n                    {elements}\r\n                </ul>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default ResultScreen;","class Person {\r\n    constructor(name, country, adres, city, label) {\r\n        this._name = name ? name : label;\r\n\r\n        if(city){\r\n            this._location = city;\r\n        }else if(adres){\r\n            this._location = adres;\r\n        }else{\r\n            this._location = country;\r\n        }\r\n    }\r\n\r\n    getName(){\r\n        return this._name;\r\n    }\r\n\r\n    getLocation(){\r\n        return this._location;\r\n    }\r\n}\r\n\r\nexport default Person;","import Resultaat from \"../model/Resultaat\";\r\nimport * as wellKnown from \"wellknown\";\r\nimport Person from \"../model/Person\";\r\n\r\n/**\r\n * Laatste string waar op is gezocht\r\n * @type {string}\r\n */\r\nlet latestString = \"\";\r\n\r\n/**\r\n * Laatste methode waarop is gezocht\r\n * @type {string}\r\n */\r\nlet latestMethod = \"\";\r\n\r\n/**\r\n * Geeft de options voor backends terug\r\n * @returns {({description: string, text: string, value: string}|{description: string, text: string, value: string})[]}\r\n */\r\nexport function getOptions() {\r\n    return [\r\n        //{ value: 'tes', text: 'Kadaster Labs Elasticsearch', description : \"snelste\"},\r\n        {value: 'tsp', text: 'Kadaster Labs SPARQL', description: \"snel\"},\r\n        // { value: 'psp', text: 'PDOK SPARQL', description : \"meest actueel\"},\r\n    ];\r\n}\r\n\r\n/**\r\n * Deze wordt aangeroepen wanneer de gebruiker iets in het zoekveld typt\r\n *\r\n * @param text: gezochte tekst\r\n * @param method:  de methode waarmee is gezocht\r\n * @returns {Promise<string|undefined>}\r\n */\r\nexport async function getMatch(text, method) {\r\n    //update eerst de laatst ingetype string\r\n    latestString = text;\r\n\r\n    //doe hierna 2 queries. Eentje voor exacte match\r\n    let match = await queryDATALABSKADASTER(stringQuery(text));\r\n\r\n    //als de gebruiker iets nieuws heeft ingetypt geef dan undefined terug.\r\n    if (latestString !== text) {\r\n        return undefined;\r\n    } else if (match.status > 300) {\r\n        //bij een network error de string error\r\n        return \"error\";\r\n    }\r\n\r\n    //zet deze om in een array met Resultaat.js\r\n    match = await match.text();\r\n    match = await makeSearchScreenResults(JSON.parse(match));\r\n    return match;\r\n}\r\n\r\nfunction makeSearchScreenResults(res) {\r\n    res = res.results.bindings;\r\n    let results = [];\r\n\r\n    res.forEach(value => {\r\n        let adres = value.streetname.value.replace(/\\(adres\\)/ig, \"\");\r\n\r\n        results.push(new Resultaat(value.sale.value,\r\n            value.buyers.value,\r\n            value.sellers.value,\r\n            adres,\r\n            wellKnown.parse(value.point.value)\r\n        ))\r\n    });\r\n\r\n    return results;\r\n}\r\n\r\n/**\r\n * Deze functie wordt aangeroepen wanneer de gebruiker\r\n *\r\n * @param lat\r\n * @param long\r\n * @param top\r\n * @param left\r\n * @param bottom\r\n * @param right\r\n * @returns {Promise<string|*[]|undefined>} Verwacht een lijst met Resultaat.js objecten terug\r\n */\r\nexport async function getFromCoordinates(lat, long, top, left, bottom, right) {\r\n    if (right - left > 0.05 || top - bottom > 0.0300) {\r\n        left = long - 0.025;\r\n        right = long + 0.025;\r\n        top = lat + 0.01500;\r\n        bottom = lat - 0.01500;\r\n    }\r\n\r\n    let match = await queryDATALABSKADASTER(queryByLocation(top, left, bottom, right));\r\n\r\n    if (match.status > 300) {\r\n        //bij een network error de string error\r\n        return \"error\";\r\n    }\r\n\r\n    //Zet deze om in een array met Resultaat.js\r\n    match = await match.text();\r\n    match = await makeSearchScreenResults(JSON.parse(match));\r\n\r\n    return match;\r\n}\r\n\r\n/**\r\n * Functie die alle overige attributen ophaalt van het object.\r\n * De front end gebruikt deze functie voor het clicked resultaat scherm.\r\n *\r\n * Deze moet erin blijven als je het opnieuw wilt implmenteren.\r\n *\r\n * @param clickedRes een ClickedResultaat.js object die leeg is.\r\n * @returns {Promise<void>} verwacht niets terug maar moet wel de clickedRes vullen met de loadInAttributes van de ClickedRes.js\r\n */\r\nexport async function getAllAttribtes(clickedRes) {\r\n    let res = await queryDATALABSKADASTER(queryAllesOphalen(clickedRes.getUrl()));\r\n\r\n    if (res.status > 300) {\r\n        //bij een network error de string error\r\n        return clickedRes;\r\n    }\r\n\r\n    res = await res.text();\r\n    res = JSON.parse(res);\r\n    res = res.results.bindings;\r\n\r\n    let buyers = new Map();\r\n    let sellers = new Map();\r\n\r\n    res.forEach(res => {\r\n        if (!buyers.has(res.buyer.value)) {\r\n            buyers.set(res.buyer.value,\r\n                new Person(\r\n                    res.namebuyer ? res.namebuyer.value : undefined,\r\n                    res.countrybuyer ? res.countrybuyer.value : undefined,\r\n                    res.adresbuyer ? res.adresbuyer.value : undefined,\r\n                    res.citybuyer ? res.citybuyer.value : undefined,\r\n                    res.labelbuyer ? res.labelbuyer.value : undefined\r\n                )\r\n            )\r\n        }\r\n\r\n        if (!sellers.has(res.seller.value)) {\r\n            sellers.set(res.seller.value,\r\n                new Person(\r\n                    res.nameseller ? res.nameseller.value : undefined,\r\n                    res.countryseller ? res.countryseller.value : undefined,\r\n                    res.adresseller ? res.adresseller.value : undefined,\r\n                    res.cityseller ? res.cityseller.value : undefined,\r\n                    res.labelseller ? res.labelseller.value : undefined\r\n                )\r\n            )\r\n        }\r\n    });\r\n\r\n    let first = res[0];\r\n\r\n    let price = first.price ? first.price.value : undefined;\r\n    let adres = first.streetadres ? first.streetadres.value : undefined;\r\n    let place = first.stad ? first.stad.value : undefined;\r\n    let date = first.date ? first.date.value.substr(0,10) : undefined;\r\n    buyers = Array.from(buyers.values());\r\n    sellers = Array.from(sellers.values());\r\n\r\n    clickedRes.loadInAttributes(price, adres, place, date, buyers, sellers);\r\n}\r\n\r\n\r\nasync function queryDATALABSKADASTER(query) {\r\n    return await fetch(\"https://api.labs.kadaster.nl/datasets/hack-a-lod/verkaufsbucher/services/verkaufsbucher/sparql\", {\r\n        method: 'POST',\r\n        headers: {\r\n            'Content-Type': 'application/sparql-query',\r\n            'Accept': 'application/sparql-results+json'\r\n        },\r\n        body: query\r\n    });\r\n\r\n}\r\n\r\nfunction stringQuery(string) {\r\n    return `\r\n    PREFIX foaf: <http://xmlns.com/foaf/0.1/>\r\n    PREFIX dct: <http://purl.org/dc/terms/>\r\n    PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>\r\n    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\r\n    PREFIX schema: <http://schema.org/>\r\n    PREFIX histo: <http://rdf.histograph.io/>\r\n    PREFIX vcard: <http://www.w3.org/2006/vcard/ns#>\r\n    PREFIX naa: <http://archief.nl/def/>\r\n    PREFIX sdo: <http://schema.org/>\r\n    PREFIX geo: <http://www.opengis.net/ont/geosparql#>\r\n    \r\n    SELECT ?sale\r\n    (GROUP_CONCAT(distinct ?seller; separator = \" & \") as ?sellers)\r\n    (GROUP_CONCAT(distinct ?buyer; separator = \" & \") as ?buyers)\r\n    (SAMPLE(?wkt) as ?point)\r\n    (SAMPLE(?streetname) as ?streetname)\r\n    WHERE {\r\n      ?sale schema:seller/foaf:name ?seller.\r\n      ?sale schema:buyer/foaf:name ?buyer.\r\n      ?sale sdo:object/vcard:hasAddress/naa:hasParcelCentroid/geo:asWKT ?wkt.\r\n      ?sale schema:object ?pand .\r\n      ?pand vcard:hasAddress ?street .\r\n      ?street vcard:locality ?plaats .\r\n      ?street dct:type histo:Address .\r\n      ?street rdfs:label ?streetname .\r\n      OPTIONAL { ?sale naa:dateOfFinalSale ?definitieve_koopdatum .}\r\n      FILTER(regex(?seller, \"${string}\",\"i\") || regex(?buyer, \"${string}\",\"i\") || regex(?streetname, \"${string}\",\"i\"))\r\n    }\r\n    \r\n    group by ?sale\r\n    `;\r\n}\r\n\r\nfunction queryByLocation(top, left, bottom, righ) {\r\n    return `\r\n    PREFIX foaf: <http://xmlns.com/foaf/0.1/>\r\n    PREFIX dct: <http://purl.org/dc/terms/>\r\n    PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>\r\n    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\r\n    PREFIX schema: <http://schema.org/>\r\n    PREFIX histo: <http://rdf.histograph.io/>\r\n    PREFIX vcard: <http://www.w3.org/2006/vcard/ns#>\r\n    PREFIX naa: <http://archief.nl/def/>\r\n    PREFIX sdo: <http://schema.org/>\r\n    PREFIX geo: <http://www.opengis.net/ont/geosparql#>\r\n    \r\n    select distinct ?sale\r\n    (GROUP_CONCAT(distinct ?seller; separator = \" & \") as ?sellers)\r\n    (GROUP_CONCAT(distinct ?buyer; separator = \" & \") as ?buyers)\r\n    (SAMPLE(?xShape) as ?point)\r\n    (SAMPLE(?streetname) as ?streetname)\r\n    {\r\n      ?sale sdo:object/vcard:hasAddress/naa:hasParcelCentroid/geo:asWKT ?xShape.\r\n      ?sale sdo:seller/foaf:name ?seller.\r\n      ?sale sdo:buyer/foaf:name ?buyer.\r\n      ?sale schema:object ?pand .\r\n      ?pand vcard:hasAddress ?street .\r\n      ?street vcard:locality ?plaats .\r\n      ?street dct:type histo:Address .\r\n      ?street rdfs:label ?streetname .\r\n      BIND(bif:st_geomfromtext(\"POLYGON ((${left} ${bottom}, ${left} ${top}, ${righ} ${top}, ${righ} ${bottom}))\") as ?yShape).\r\n      FILTER(bif:st_intersects(?xShape, ?yShape))\r\n    }\r\n\r\n    group by ?sale\r\n    `\r\n}\r\n\r\nfunction queryAllesOphalen(string) {\r\n    return `\r\n    PREFIX skos: <http://www.w3.org/2004/02/skos/core#>\r\n    PREFIX foaf: <http://xmlns.com/foaf/0.1/>\r\n    PREFIX sdo: <http://schema.org/>\r\n    PREFIX na: <http://archief.nl/def/>\r\n    PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>\r\n    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\r\n    PREFIX vcard: <http://www.w3.org/2006/vcard/ns#>\r\n    \r\n    SELECT * WHERE {\r\n          BIND(<${string}> as ?sub)\r\n          OPTIONAL{?sub na:sellingPrice ?price.}\r\n          OPTIONAL{?sub na:dateOfFinalSale ?date.}\r\n          \r\n          OPTIONAL{\r\n            ?sub sdo:buyer ?buyer.\r\n            OPTIONAL{?buyer na:countryOfOrigin/rdfs:label ?countrybuyer}.\r\n            OPTIONAL{?buyer foaf:name ?namebuyer}.\r\n            OPTIONAL{?buyer na:livesInCity/skos:prefLabel ?citybuyer}.\r\n            OPTIONAL{?buyer vcard:hasAddress/vcard:locality ?adresbuyer}.\r\n            OPTIONAL{?buyer skos:prefLabel ?labelbuyer}.\r\n          }\r\n          \r\n          OPTIONAL{\r\n            ?sub sdo:seller ?seller.\r\n            OPTIONAL{?seller na:countryOfOrigin/rdfs:label ?countryseller}.\r\n            OPTIONAL{?seller foaf:name ?nameseller}.\r\n            OPTIONAL{?seller na:livesInCity/skos:prefLabel ?cityseller}.\r\n            OPTIONAL{?seller vcard:hasAddress/vcard:locality ?adresseller}.\r\n            OPTIONAL{?seller skos:prefLabel ?labelseller}\r\n          }\r\n          \r\n          OPTIONAL{\r\n            ?sub sdo:object ?pand.\r\n            ?sale sdo:object ?pand.\r\n            ?pand vcard:hasAddress ?street.\r\n            ?street vcard:locality ?stad.\r\n            ?street vcard:street-address ?streetadres\r\n          }\r\n    }\r\n    `\r\n}\r\n","import React from 'react';\r\nimport * as Communicator from '../../network/Communicator';\r\n\r\nclass ObjectScreen extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            res: undefined\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.getClickedResultinfo(this.props.clickedResult);\r\n    }\r\n\r\n    /**\r\n     * Haal alle gegevens op van de clickedResult.\r\n     * @param url\r\n     */\r\n    getClickedResultinfo = (url) => {\r\n        if (url) {\r\n            Communicator.getAllAttribtes(this.props.clickedResult).then(res => {\r\n                this.setState({\r\n                    res: this.props.clickedResult\r\n                })\r\n            });\r\n        }\r\n    }\r\n\r\n    render() {\r\n        let res = this.state.res;\r\n\r\n        let adres;\r\n        let place;\r\n        let tableNamen;\r\n        let tableRest;\r\n\r\n        if (res) {\r\n            adres = (<h1>{res.getAdres()}</h1>);\r\n            place = (<h3>{res.getPlace()}</h3>);\r\n\r\n            let kopers = (<tr>\r\n                <td><b>Kopers:</b></td>\r\n                <td>Onbekend</td>\r\n            </tr>);\r\n\r\n            if (res.getBuyers().length > 0) {\r\n                let strings = res.getBuyers().map(res => {\r\n                    return (<li key={res.getName()}>\r\n                            {res.getName() || res.getName() !== \"\" ? res.getName() : \"Onbekend\"}&nbsp;\r\n                            {res.getLocation() ? \"(\" + res.getLocation() + \")\" : \"\"}\r\n                        </li>\r\n                    );\r\n                });\r\n\r\n                kopers = (\r\n                    <tr>\r\n                        <td className={\"verkoperKoper\"}><b>Kopers:</b></td>\r\n                        <td><ul>{strings}</ul></td>\r\n                    </tr>\r\n                )\r\n            }\r\n\r\n            let verkopers = (<tr>\r\n                <td><b>Verkopers:</b></td>\r\n                <td>Onbekend</td>\r\n            </tr>);\r\n\r\n            if (res.getSellers().length > 0) {\r\n                let strings = res.getSellers().map(res => {\r\n                    return (<li key={res.getName()}>\r\n                            {res.getName() || res.getName() !== \"\" ? res.getName() : \"Onbekend\"}&nbsp;\r\n                            {res.getLocation() ? \"(\" + res.getLocation() + \")\" : \"\"}\r\n                        </li>\r\n                    );\r\n                });\r\n\r\n                verkopers = (\r\n                    <tr>\r\n                        <td className={\"verkoperKoper\"}><b>Verkopers:</b></td>\r\n                        <td><ul>{strings}</ul></td>\r\n                    </tr>\r\n                )\r\n            }\r\n\r\n            tableNamen = (\r\n                <div>\r\n                    <table className=\"namenTable\">\r\n                        <tbody>\r\n                        {kopers}\r\n                        {verkopers}\r\n                        </tbody>\r\n                    </table>\r\n                    <hr/>\r\n                </div>\r\n            );\r\n\r\n\r\n            let verkoopprijs;\r\n            let koopdatum;\r\n            let ertovf;\r\n\r\n            if(res.getDate()){\r\n                koopdatum = (<tr>\r\n                        <td><b>Definitieve koopdatum:</b></td>\r\n                        <td>{res.getDate()}</td>\r\n                    </tr>\r\n                )\r\n            }\r\n\r\n            if(res.getPrice){\r\n                verkoopprijs = (<tr>\r\n                    <td><b>Verkoopprijs:</b></td>\r\n                    <td>&#402; {formatNumber(res.getPrice())}</td>\r\n                </tr>\r\n                );\r\n\r\n                ertovf = (<tr>\r\n                        <td><b>&euro; 2018 tov &#402; 1944:</b></td>\r\n                        <td>&euro; {formatNumber(res.getPrice()*6.37)}</td>\r\n                    </tr>\r\n                );\r\n            }\r\n\r\n            tableRest = (\r\n                <table className=\"attributeSectionObjectScreen\">\r\n                    <tbody>\r\n                    {koopdatum}\r\n                    {verkoopprijs}\r\n                    {ertovf}\r\n                    </tbody>\r\n                </table>\r\n            )\r\n        }\r\n\r\n        return (\r\n            <div className=\"objectScreen\">\r\n                {adres}\r\n                {place}\r\n                {tableNamen}\r\n                {tableRest}\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nfunction formatNumber(num) {\r\n    num = parseInt(num).toString();\r\n    return num.replace(/(\\d)(?=(\\d{3})+(?!\\d))/g, '$1.') + \",-\";\r\n}\r\nexport default ObjectScreen;","import React from 'react';\r\nimport {Route, Switch} from 'react-router-dom';\r\n\r\nimport StartScreen from \"./pages/StartScreen\";\r\nimport ResultScreen from \"./pages/ResultScreen\";\r\nimport ObjectScreen from \"./pages/ObjectScreen\";\r\n\r\nclass Routes extends React.Component {\r\n    render() {\r\n        return (\r\n            <Switch>\r\n                <Route exact path=\"/\" component={StartScreen}/>\r\n                <Route\r\n                    exact path=\"/result\"\r\n                    render={(props) => <ResultScreen res={this.props.res}\r\n                                                     onClickItem={this.props.onClickItem}\r\n                                                     getHexFromColor={this.props.getHexFromColor}/>}\r\n                />\r\n                <Route\r\n                    exact path=\"/result/:id\"\r\n                    render={(props) => <ObjectScreen clickedResult=\r\n                                                         {this.props.clickedResult}\r\n                                                     getHexFromColor={this.props.getHexFromColor}/>}\r\n                />\r\n            </Switch>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Routes;","import React from 'react';\r\nimport {Route, Switch} from 'react-router-dom';\r\n\r\n/**\r\n * De bar met <-- terug.\r\n */\r\nclass NavBar extends React.Component{\r\n    render() {\r\n        return(\r\n            <Switch>\r\n                <Route exact path=\"/\"\r\n                       render={(props) => <EmptyBar loading = {this.props.loading}\r\n                                                    aantalZoekResultaten = {this.props.aantalZoekResultaten}/>}\r\n                />\r\n                <Route\r\n                    render={(props) => <BackButton loading = {this.props.loading} onBack = {this.props.onBack}\r\n                                                   aantalZoekResultaten = {this.props.aantalZoekResultaten}/>}\r\n                />\r\n            </Switch>\r\n        )\r\n    }\r\n}\r\n\r\nfunction EmptyBar(props){\r\n    let class_ = \"nonLoadingButton\";\r\n\r\n    if( props.loading){\r\n        class_ = \"loadingButton\";\r\n    }\r\n\r\n    return (\r\n        <div className={\"backButton  \" + class_}><p>&nbsp;</p></div>\r\n    )\r\n}\r\n\r\nfunction BackButton(props){\r\n    let class_ = \"nonLoadingButton\";\r\n\r\n    if( props.loading){\r\n        class_ = \"loadingButton\";\r\n    }\r\n\r\n    return (\r\n        <div className={\"backButton cursorPointer \" + class_} onClick={props.onBack}><span>&larr; Terug</span>\r\n            <span style={{float: \"right\"}}>{props.aantalZoekResultaten}</span>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default NavBar;","import React from 'react';\r\nimport {BarLoader} from \"react-spinners\";\r\n\r\n/**\r\n * Het kleine laadbalke aan de boven kant van het resultaten stukje, en boven de kaart\r\n */\r\nclass Loader extends React.Component{\r\n    render() {\r\n        return(\r\n            <BarLoader\r\n                loading = {this.props.loading}\r\n                width = {\"100%\"}\r\n                color = {\"#6495ED\"}\r\n                height = {4}\r\n            />\r\n        )\r\n    }\r\n}\r\n\r\nexport default Loader;","/**\r\n * Houdt resultaat bij. Update de app als er iets verandert.\r\n */\r\nimport Observable from \"./Observable\";\r\nimport {isShownClickedResults, sortByObjectClass} from \"../network/ProcessorMethods\";\r\n\r\nclass ResultatenHouder extends Observable{\r\n    constructor(){\r\n        super();\r\n\r\n        this._results = [];\r\n        this._rightClickedResults = [];\r\n        this._clickedResult = undefined;\r\n    }\r\n\r\n    /**\r\n     * Zet een clickedresultaat en subscribe aan deze\r\n     * @param clicked\r\n     */\r\n    setClickedResult(clicked){\r\n        this._clickedResult = clicked;\r\n        this._clickedResult.subscribe(this);\r\n        this.updateSubscribers();\r\n    }\r\n\r\n    getClickedResult(){\r\n        return this._clickedResult;\r\n    }\r\n\r\n    /**\r\n     * undefine de clicked resultaat en unsubscribe\r\n     */\r\n    clearClickedResult(){\r\n        if(this._clickedResult){\r\n            this._clickedResult.unsubscribe(this);\r\n            this._clickedResult = undefined;\r\n            this.updateSubscribers();\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Clear alle resultaten en unsubscribe van all deze\r\n     */\r\n    clearAll(){\r\n        if(this._clickedResult){\r\n            this._clickedResult.unsubscribe(this);\r\n            this._clickedResult = undefined;\r\n        }\r\n\r\n        this._results.forEach(res => {\r\n            res.unsubscribe(this);\r\n        });\r\n\r\n        this._results = [];\r\n\r\n        this._rightClickedResults.forEach(res => {\r\n            res.unsubscribe(this);\r\n        });\r\n\r\n        this._rightClickedResults = [];\r\n\r\n        this.updateSubscribers();\r\n    }\r\n\r\n    /**\r\n     * Zet results en subscribe aan al deze\r\n     * @param results\r\n     */\r\n    setResults(results){\r\n        this._results.forEach(res => {\r\n            res.unsubscribe(this);\r\n        });\r\n\r\n        results.forEach(res => {\r\n            res.subscribe(this);\r\n        });\r\n\r\n        this._results = results;\r\n        this.updateSubscribers();\r\n    }\r\n\r\n    getResults(){\r\n        return this._results;\r\n    }\r\n\r\n    /**\r\n     * Clear de resultaten\r\n     */\r\n    clearResults(){\r\n        if(this._results.length > 0){\r\n            this._results.forEach(res => {\r\n                res.unsubscribe(this);\r\n            });\r\n\r\n            this._results = [];\r\n\r\n            this.updateSubscribers();\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Zet results en subscribe aan al deze\r\n     * @param results\r\n     */\r\n    setDoubleResults(results){\r\n        this._rightClickedResults.forEach(res => {\r\n            res.unsubscribe(this);\r\n        });\r\n\r\n        results.forEach(res => {\r\n            res.subscribe(this);\r\n        });\r\n\r\n        this._rightClickedResults = results;\r\n\r\n\r\n\r\n        this.updateSubscribers();\r\n    }\r\n\r\n    getRightClickedRes(){\r\n        return this._rightClickedResults;\r\n    }\r\n\r\n    /**\r\n     * Clear de resultaten\r\n     */\r\n    clearDoubleResults(){\r\n        if(this._rightClickedResults.length > 0){\r\n            this._rightClickedResults.forEach(res => {\r\n                res.unsubscribe(this);\r\n            });\r\n\r\n            this._rightClickedResults = [];\r\n\r\n            this.updateSubscribers();\r\n        }\r\n    }\r\n\r\n    update(){\r\n        this.updateSubscribers();\r\n    }\r\n\r\n    /**\r\n     * Krijg alle resultaten behalve clicked resultaat als feature terug.\r\n     * @returns {[Feature]}\r\n     */\r\n    getSearchedAllObjectsAsFeature(){\r\n        let geojson = [];\r\n\r\n        this._results.forEach(res => {\r\n            if(res.getGeoJson()) {\r\n                geojson.push(res.getAsFeature());\r\n            }\r\n        });\r\n\r\n        sortByObjectClass(geojson);\r\n\r\n        return geojson;\r\n    }\r\n\r\n    getClickedAllObjectsAsFeature(){\r\n        let geojson = [];\r\n\r\n        this._rightClickedResults.forEach(res => {\r\n            if(res.getGeoJson()) {\r\n                geojson.push(res.getAsFeature());\r\n            }\r\n        });\r\n\r\n        sortByObjectClass(geojson);\r\n\r\n        return geojson;\r\n    }\r\n}\r\n\r\nexport default ResultatenHouder;","/**\r\n * Het resultaat dat aangeklikt is.\r\n * Kan op twee manieren gegevens in laden. Met de constructor of de methode loadInAttributes.\r\n */\r\nimport Observable from \"./Observable\";\r\n\r\nclass ClickedResultaat extends Observable {\r\n    /**\r\n     *\r\n     * @param res het resultaat dat is aangeklikt\r\n     * @param price\r\n     * @param adres\r\n     * @param place\r\n     * @param date\r\n     * @param buyers\r\n     * @param sellers\r\n     */\r\n    constructor(res, price, adres, place, date, buyers, sellers) {\r\n        super();\r\n\r\n        this._res = res;\r\n        this._price = price;\r\n        this._adres = adres;\r\n        this._place = place;\r\n        this._date = date;\r\n        this._buyers = buyers;\r\n        this._sellers = sellers;\r\n    }\r\n\r\n    /**\r\n     * @param price\r\n     * @param adres\r\n     * @param place\r\n     * @param date\r\n     * @param buyers\r\n     * @param sellers\r\n     */\r\n    loadInAttributes(price, adres, place, date, buyers, sellers) {\r\n        this._price = price;\r\n        this._adres = adres;\r\n        this._place = place;\r\n        this._date = date;\r\n        this._buyers = buyers;\r\n        this._sellers = sellers;\r\n\r\n        this.updateSubscribers();\r\n    }\r\n\r\n    getSellers(){\r\n        return this._sellers;\r\n    }\r\n\r\n    getBuyers(){\r\n        return this._buyers;\r\n    }\r\n\r\n    getDate(){\r\n        return this._date;\r\n    }\r\n\r\n    getPlace(){\r\n        return this._place;\r\n    }\r\n\r\n    getPrice(){\r\n        return this._price;\r\n    }\r\n\r\n    getAdres(){\r\n        return this._adres;\r\n    }\r\n\r\n    getUrl() {\r\n        return this._res.getUrl();\r\n    }\r\n\r\n    getAsFeature() {\r\n        return this._res.getAsFeature();\r\n    }\r\n\r\n    getRes(){\r\n        return this._res;\r\n    }\r\n}\r\n\r\nexport default ClickedResultaat;","import L from \"leaflet\";\r\nimport MarkerGold from \"../assets/GoldMarker.png\";\r\nimport MarkerShadow from \"../assets/marker-shadow.png\";\r\n\r\n/**\r\n * Dit is de goude leaflet icoon\r\n */\r\nexport const Icons = new L.Icon.Default({\r\n    iconUrl: MarkerGold,\r\n    iconRetinaUrl : MarkerGold,\r\n    imagePath: \" \",\r\n    shadowUrl : MarkerShadow});\r\n\r\n/**\r\n * Dit id de default leaflet icoon\r\n */\r\nexport const DefaultIcon = new L.Icon.Default();\r\n","import React from 'react';\r\nimport './style/ContextMenu.scss'\r\nimport _ from 'lodash';\r\n\r\n/**\r\n * Dit is het menu dat tervoorschijn komt als je op de kaart klikt met meerdere lagen.\r\n */\r\nclass ContextMenu extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            mousedOver: false,\r\n            widthPage: 0,\r\n            heightPage: 0,\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        //Kijk wat de hoogte en breedte is van de pagina wanneer deze component tevoorschijn komt.\r\n        this.updateWindowDimensions();\r\n\r\n        //debounce zodat het niet tig keer wordt aangeroepen.\r\n        this.updateWindowDimensionsDebounce = _.debounce(this.updateWindowDimensions, 200);\r\n        window.addEventListener('resize', this.updateWindowDimensionsDebounce);\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        //Unmount de listener als de component sluit\r\n        window.removeEventListener('resize', this.updateWindowDimensionsDebounce);\r\n    }\r\n\r\n    updateWindowDimensions = () => {\r\n        //update de hoogte en breedte van huidige pagina\r\n        this.setState({widthPage: window.innerWidth, heightPage: window.innerHeight});\r\n    };\r\n\r\n    componentDidUpdate(prevProps, prevState, snapshot) {\r\n        //Kijk wat de hoogte en breedte zullen zijn van de component zelf.\r\n        if(this.state.yMenu !== this.div.clientHeight || this.state.xMenu !== this.div.clientWidth){\r\n            this.setState({\r\n                yMenu :  this.div.clientHeight,\r\n                xMenu : this.div.clientWidth\r\n            });\r\n        }\r\n    }\r\n\r\n    render() {\r\n        let myStyle;\r\n\r\n        //als er is geklikt\r\n        if (this.props.coordinates) {\r\n            //kijk wat de geklikte coordinaten zijn op het scherm\r\n            let top = this.props.coordinates.y;\r\n            let left = this.props.coordinates.x;\r\n\r\n            //kijk of de component zal passen op het scherm\r\n            if ((this.state.widthPage - left) < this.state.xMenu) {\r\n                //anders verplaats het naar link totdat het wel pasts\r\n                left = this.state.widthPage - this.state.xMenu;\r\n            }\r\n\r\n            //zelfde met hoogte\r\n            if ((this.state.heightPage - top) < this.state.yMenu) {\r\n                top = this.state.heightPage - this.state.yMenu;\r\n            }\r\n\r\n            // - 10 zodat de gebruiker altijd over de component heen hovert als deze geopend wordt\r\n            myStyle = {\r\n                position: 'absolute',\r\n                top: `${top - 10}px`,\r\n                left: `${left - 10}px`,\r\n                display: \"block\",\r\n            };\r\n        } else {\r\n            //als iemand niet heeft geklikt laat deze component weg\r\n            myStyle = {\r\n                display: \"none\",\r\n            };\r\n        }\r\n\r\n        //voor elk element crëer een optie\r\n        let elements = this.props.objectsOverLayedOnMap.map(res => {\r\n            return (<p key={res.head + res.sub + res.subColor} onClick={res.onClick}>\r\n                <b>{res.head} </b>\r\n                <span\r\n                    style={{color: this.props.getHexFromColor(res.subColor, true)}}>{res.sub}</span>\r\n            </p>);\r\n        });\r\n\r\n        //geef de component terug.\r\n        //als de gebruiker van de component af gaat, laat deze dan verdwijnen. zie onMouseLeave.\r\n        return (<div style={myStyle}\r\n                     className=\"contextMenuContainer\"\r\n                     ref={(div) => {this.div = div}}\r\n                     onMouseEnter={() => {\r\n                         this.setState({mousedOver: true})\r\n                     }}\r\n                     onMouseLeave={() => {\r\n                         this.props.resetCoordinates();\r\n                     }}\r\n                     onContextMenu={(e) => {\r\n                         e.preventDefault();\r\n                     }}>\r\n            {elements}\r\n        </div>)\r\n    }\r\n}\r\n\r\nexport default ContextMenu;","/**\r\n * Libs\r\n */\r\nimport L from \"leaflet\";\r\nimport React from 'react';\r\nimport * as turf from '@turf/turf';\r\nimport * as inside from \"point-in-geopolygon\";\r\nimport _ from 'lodash';\r\n\r\n/**\r\n * UI\r\n */\r\nimport Routes from './routes/Routes'\r\nimport {Dropdown, Icon, Search} from 'semantic-ui-react'\r\nimport NavBar from \"./components/NavBar\";\r\nimport Loader from \"./components/Loader\";\r\n\r\n/**\r\n * Assets\r\n */\r\nimport './App.scss';\r\nimport KadasterImg from './assets/Logo-NA.png';\r\n\r\n/**\r\n * Netwerk\r\n */\r\nimport *  as Communicator from './network/Communicator';\r\nimport {Link, matchPath, withRouter} from \"react-router-dom\";\r\n\r\n/**\r\n * Model\r\n */\r\nimport ResultatenHouder from './model/ResultatenHouder';\r\nimport ClickedResultaat from \"./model/ClickedResultaat\";\r\nimport {DefaultIcon, Icons} from \"./components/Icons\";\r\nimport ContextMenu from \"./components/ContextMenu\";\r\n\r\nclass App extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            searchQuery: \"\",\r\n            isFetching: false,\r\n            results: new ResultatenHouder(),\r\n            updateIng: false,\r\n            currentSelected: Communicator.getOptions()[0].value,\r\n            clickedOnLayeredMap: undefined,\r\n            objectsOverLayedOnMap: []\r\n        };\r\n\r\n        //subscribe aan de resulatatenHouder\r\n        this.state.results.subscribe(this);\r\n    }\r\n\r\n    /**\r\n     * Bij comonent did mount de kaart initaliseren en terug naar het hoofdscherm gaan\r\n     **/\r\n    componentDidMount() {\r\n        this.mapInit();\r\n        this.props.history.push('/');\r\n    }\r\n\r\n    /**\r\n     * Initeert de kaart.\r\n     **/\r\n    mapInit = () => {\r\n        //opties van de kaart\r\n        this.map = L.map(\r\n            'map',\r\n            {\r\n                minZoom: 8,\r\n                center: [52.20936, 5.2],\r\n                zoom: 8,\r\n                maxBounds: [\r\n                    [56, 10],\r\n                    [49, 0],\r\n                ]\r\n            });\r\n\r\n        //zet de kaart tile layer aka de brt\r\n        L.tileLayer('https://geodata.nationaalgeoregister.nl/tiles/service/wmts/brtachtergrondkaart/EPSG:3857/{z}/{x}/{y}.png', {\r\n            attribution: 'Kaartgegevens &copy; <a href=\"https://www.kadaster.nl/\" target=\"_blank\" rel = \"noreferrer noopener\">Kadaster</a> | <a href=\"https://www.verbeterdekaart.nl\" target=\"_blank\" rel = \"noreferrer noopener\">Verbeter de kaart</a> '\r\n        }).addTo(this.map);\r\n\r\n        //Wanneer je dubbelklikt op de kaart krijg dan alle locaties terug er om heen.\r\n        this.map.on('contextmenu', this.handleRightMouseClick);\r\n\r\n        //disable the zoom\r\n        this.map.doubleClickZoom.disable();\r\n\r\n        //zet de geojson layer en de functies die worden aangeroepen.\r\n        //On each feature elke geojson object\r\n        //point to layer bij elke marker\r\n        this.geoJsonLayer = L.geoJSON([], {\r\n            onEachFeature: this.handleGeoJsonLayerDrawing,\r\n            pointToLayer: this.addMarker,\r\n            style: this.getStyle\r\n        }).addTo(this.map);\r\n\r\n        //de groep voor de markers\r\n        this.markerGroup = L.featureGroup().addTo(this.map);\r\n\r\n        //dit is voor mobiele applicatie. Als er gesleept wordt sluit dan het context menu.\r\n        this.map.on('dragstart', () => {\r\n            if (this.state.clickedOnLayeredMap) {\r\n                this.setState({clickedOnLayeredMap: undefined});\r\n            }\r\n        });\r\n    };\r\n\r\n    /**\r\n     * Krijg de style voor een bepaalde feature\r\n     * @param feature\r\n     * @returns {{color: (string|*)}}\r\n     */\r\n    getStyle = (feature) => {\r\n        if (feature.properties.getColor()) {\r\n            return {\r\n                color: this.getHexFromColor(feature.properties.getColor())\r\n            };\r\n        }\r\n    };\r\n\r\n    /**\r\n     * Krijg een hex van een kleur.\r\n     * @param color\r\n     * @param text bool of het tekst is of niet\r\n     * @returns {string|undefined}\r\n     */\r\n    getHexFromColor(color, text) {\r\n        if (color === \"turqoise\") {\r\n            if (text) {\r\n                return \"#15a49f\";\r\n            } else {\r\n                return \"#3DCCC7\";\r\n            }\r\n        } else if (color === \"purple\") {\r\n            return \"#7A306C\";\r\n        } else if (color === \"green\") {\r\n            return \"#489E17\";\r\n        } else if (color === \"red\") {\r\n            return \"#BA1200\";\r\n        } else if (color === \"pink\") {\r\n            return \"#FFD9CE\";\r\n        } else if (color === \"blue\") {\r\n            return \"#1B2CFF\";\r\n        } else if (color === \"orange\") {\r\n            return \"#FAA916\";\r\n        } else if (color === \"yellow\") {\r\n            if (text) {\r\n                return \"#FAA916\";\r\n            } else {\r\n                return \"#F0F66E\";\r\n            }\r\n        } else if (color === \"mediumaquamarine\") {\r\n            return \"#66CDAA\";\r\n        } else {\r\n            if (text) {\r\n                return \"#000\";\r\n            } else {\r\n                return undefined;\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Als je recht klikt op de kaart. Haal resulataten op en laat deze zien.\r\n     **/\r\n    handleRightMouseClick = (e) => {\r\n        let latLong = e.latlng;\r\n\r\n        //close pop ups van de kaart\r\n        this.map.closePopup();\r\n        this.popup = undefined;\r\n\r\n        /**\r\n         * Kijk of de gebruiker op de ObjectScreen zit\r\n         */\r\n        let match = matchPath(this.props.location.pathname, {\r\n            path: \"/result/:id\",\r\n            exact: true,\r\n            strict: true\r\n        });\r\n\r\n        this.state.results.clearAll();\r\n\r\n        /**\r\n         * Als de gebruiker op een object screen zit ga dan terug.\r\n         */\r\n        if (match) {\r\n            this.props.history.goBack();\r\n        } else if (this.props.location.pathname !== \"/result\") {\r\n            this.props.history.push(`/result`);\r\n        }\r\n\r\n        this.setState({\r\n            isFetching: true,\r\n            searchQuery: \"\"\r\n        });\r\n\r\n        /**\r\n         * Krijg de bounds en geef deze ook door aan de communicator\r\n         */\r\n        let bounds = this.map.getBounds();\r\n        Communicator.getFromCoordinates(latLong.lat, latLong.lng, bounds.getNorth(), bounds.getWest(), bounds.getSouth(), bounds.getEast()).then(res => {\r\n            if (res !== undefined && res !== \"error\") {\r\n                this.state.results.setDoubleResults(res);\r\n                this.setState({\r\n                    isFetching: false\r\n                })\r\n\r\n            }\r\n        });\r\n    };\r\n\r\n    /**\r\n     * De functie die de kaart aanroept elke keer als deze een marker wilt toevoegen.\r\n     **/\r\n    addMarker = (feature, latlng) => {\r\n        let marker = L.marker(latlng,).addTo(this.markerGroup);\r\n\r\n        //dit is de pop up en de html die tevoorschijn komt.\r\n        marker.bindPopup(`<div class = \"marker\">\r\n                    <b>Koper:</b> ${feature.properties.getKoper()}\r\n                    <br/>\r\n                    <b>Verkoper:</b> ${feature.properties.getVerkoper()}\r\n                    <br/>\r\n                    <span class=\"subTextMarker\">${feature.properties.getAdres()}</span>\r\n                    <div>\r\n            `, {\r\n            autoPan: false,\r\n            closeButton: false\r\n        });\r\n\r\n        let onHover = function (e) {\r\n            this.openPopup();\r\n            this.setIcon(Icons);\r\n        }.bind(marker);\r\n\r\n        let onHoverOff = function (e) {\r\n            this.closePopup();\r\n            this.setIcon(DefaultIcon);\r\n        }.bind(marker);\r\n\r\n        //wanner je over de marker gaat laat de pop up zien\r\n        marker.on('mouseover', onHover);\r\n        //geef deze ook aan de feature zodat wanneer je over de resultaten lijst gaat het ook op de kaart te zien is.\r\n        feature.properties._setOnHover(onHover);\r\n\r\n        //wanneer je er van af gaat laat het weg\r\n        marker.on('mouseout', onHoverOff);\r\n        feature.properties._setOnHoverOff(onHoverOff);\r\n\r\n        //wanneer je er op klikt ga naar die marker\r\n        marker.on('click', () => {\r\n            this.onClickItem(feature.properties)\r\n        });\r\n\r\n        return marker;\r\n    };\r\n\r\n    /**\r\n     * Krijg alle geojson objecten die in de resultatenhouder zit waar dit punt in zit.\r\n     * @param lng\r\n     * @param lat\r\n     * @returns {*[]}\r\n     */\r\n    getAllGeoJsonObjectContainingPoint = (lng, lat) => {\r\n        let res;\r\n\r\n        if (this.state.results.getClickedResult()) {\r\n            res = [this.state.results.getClickedResult().getAsFeature()];\r\n        } else if (this.state.results.getRightClickedRes().length > 0) {\r\n            res = this.state.results.getClickedAllObjectsAsFeature();\r\n        } else {\r\n            res = this.state.results.getSearchedAllObjectsAsFeature();\r\n        }\r\n\r\n        res = res.filter(res => {\r\n                return res.geometry.type === \"MultiPolygon\" || res.geometry.type === \"Polygon\"\r\n            }\r\n        );\r\n\r\n        return res.filter(res => {\r\n            let col = {type: \"FeatureCollection\", features: [res]};\r\n            return inside.feature(col, [lng, lat]) !== -1;\r\n        });\r\n    };\r\n\r\n    /**\r\n     * Wordt aangeroepen elke keer als er een geojson object wordt getekend.\r\n     **/\r\n    handleGeoJsonLayerDrawing = (feature, layer) => {\r\n        //de punt wordt al afgehandeld door addMarker\r\n        if (feature.geometry.type !== 'Point') {\r\n            //vindt eerst de center\r\n            var latLong = this.getCenterGeoJson(feature);\r\n\r\n                //op deze center voeg een marker toe\r\n                this.addMarker(feature, latLong);\r\n\r\n            //laat de pop up zien als je erover gaat\r\n            layer.on('mouseover', (e) => {\r\n                let contains = this.getAllGeoJsonObjectContainingPoint(e.latlng.lng, e.latlng.lat);\r\n\r\n                let content = contains.map(res => {\r\n                    return `<b>${res.properties.getNaam()}</b><br/>\r\n                    <span class=\"subTextMarker\" style=\"color:${this.getHexFromColor(res.properties.getColor(), true)};\" >${res.properties.getType()} </span>`;\r\n                }).reverse().join(`<br/>`);\r\n\r\n                content = `<div class=\"popUpMouseOver\">${content}<div>`;\r\n\r\n                if (contains.length < 1) {\r\n                    this.map.closePopup();\r\n                    this.popup = undefined;\r\n                } else if (!this.popup) {\r\n                    this.popup = L.popup({\r\n                        autoPan: false,\r\n                        closeButton: false\r\n                    })\r\n                        .setLatLng(e.latlng)\r\n                        .setContent(content)\r\n                        .openOn(this.map);\r\n                }\r\n            });\r\n\r\n            //dit is de functie die wordt aangeroepen als je over een object heen gaat met je muis.\r\n            let mouseOverFunction = (e) => {\r\n                let contains = this.getAllGeoJsonObjectContainingPoint(e.latlng.lng, e.latlng.lat);\r\n\r\n                let content = contains.map(res => {\r\n                    return `<b>${res.properties.getNaam()}</b><br/>\r\n                    <span class=\"subTextMarker\" style=\"color:${this.getHexFromColor(res.properties.getColor(), true)};\" >${res.properties.getType()} </span>`;\r\n                }).reverse().join(`<br/>`);\r\n\r\n                if (contains.length < 1) {\r\n                    this.map.closePopup();\r\n                    this.popup = undefined;\r\n                } else if (this.popup) {\r\n                    this.popup.setLatLng(e.latlng);\r\n\r\n                    content = `<div class=\"popUpMouseOver\">${content}<div>`;\r\n\r\n                    if (content !== this.popup.getContent()) {\r\n                        this.popup.setContent(content);\r\n                    }\r\n                } else {\r\n                    this.popup = L.popup({\r\n                        autoPan: false,\r\n                        closeButton: false\r\n                    })\r\n                        .setLatLng(e.latlng)\r\n                        .setContent(content)\r\n                        .openOn(this.map);\r\n                }\r\n            };\r\n\r\n            //Je kan ervoor kiezen om deze functionalitier te trottelen.\r\n            layer.on('mousemove', _.throttle(mouseOverFunction, 0));\r\n\r\n            //sluit de pop up als je er van af gaat\r\n            layer.on('mouseout', (e) => {\r\n                this.map.closePopup();\r\n                this.popup = undefined;\r\n            });\r\n\r\n            //als je er op klikt ga er dan naartoe\r\n            layer.on('click', (e) => {\r\n                //check of er meerdere lagen zijn\r\n                let contains = this.getAllGeoJsonObjectContainingPoint(e.latlng.lng, e.latlng.lat);\r\n\r\n                //als er maar één laag is\r\n                if (contains.length < 2) {\r\n                    this.onClickItem(feature.properties)\r\n                } else {\r\n                    //agrageer de opties en geef deze aan het context menu\r\n                    let options = contains.reverse().map(res => {\r\n                        let func = () => {\r\n                            this.onClickItem(res.properties);\r\n                        };\r\n\r\n                        return {\r\n                            head: res.properties.getNaam(),\r\n                            sub: res.properties.getType(),\r\n                            subColor: res.properties.getColor(),\r\n                            onClick: func\r\n                        }\r\n                    });\r\n\r\n                    this.setState({\r\n                        clickedOnLayeredMap: {x: e.originalEvent.pageX, y: e.originalEvent.pageY},\r\n                        objectsOverLayedOnMap: options\r\n                    });\r\n                }\r\n            });\r\n        }\r\n    };\r\n\r\n    /**\r\n     * Deze methode kan worden aangeroepen om het context menu te laten verdrwijnen.\r\n     */\r\n    resetClickedOnLayeredMap = () => {\r\n        this.setState({\r\n            clickedOnLayeredMap: undefined\r\n        });\r\n    };\r\n\r\n    /**\r\n     * Wanneer iemand op een resultaat klikt vor dan deze methode uit.\r\n     **/\r\n    onClickItem = (res) => {\r\n        //maak een nieuwe clickedresultaat\r\n        let clickedRes = new ClickedResultaat(res);\r\n\r\n        this.setState({\r\n            clickedOnLayeredMap: undefined\r\n        });\r\n\r\n        //zet de resultatenhouder de clickedresultaat.\r\n        this.state.results.setClickedResult(clickedRes);\r\n\r\n        //krijg de center van de plek waar je naartoe wilt.\r\n        let center = this.getCenterGeoJson(res.getGeoJson());\r\n        let zoom = this.map.getZoom();\r\n\r\n        //als de gebruiker ingezoomt is, zoom dan niet uit.\r\n        if (zoom < 10) {\r\n            zoom = 10;\r\n        }\r\n\r\n        //zet de view.\r\n        this.map.setView(center, zoom);\r\n\r\n        this.props.history.push(`/result/resultaat`);\r\n    };\r\n\r\n    /**\r\n     * Krijg de center van een geojson object.\r\n     **/\r\n    getCenterGeoJson = (geojson) => {\r\n        //kijk eerst naar de center\r\n        var centroid = turf.center(geojson);\r\n\r\n        try {\r\n            //als deze niet in het geojson object ligt, gebruik dan de centroid\r\n            if (!turf.booleanContains(geojson, centroid)) {\r\n                centroid = turf.centroid(geojson);\r\n            }\r\n        } catch (e) {\r\n        }\r\n\r\n        //krijg de lat en long\r\n        var lon = centroid.geometry.coordinates[0];\r\n        var lat = centroid.geometry.coordinates[1];\r\n\r\n        return [lat, lon];\r\n    };\r\n\r\n    /**\r\n     * Wordt aangeroepen wanneer er iets wordt getype\r\n     **/\r\n    onSearchChange = (e, data) => {\r\n        let text = data.value;\r\n\r\n        this.map.closePopup();\r\n        this.popup = undefined;\r\n\r\n        //als de text iets heef\r\n        if (text) {\r\n            //zet dan eerst de state\r\n\r\n            this.setState({\r\n                searchQuery: text,\r\n                isFetching: true\r\n            });\r\n\r\n            //haal vorige resultaten weg\r\n            this.state.results.clearClickedResult();\r\n            this.state.results.clearDoubleResults();\r\n\r\n            //debounce zodat het pas wordt uitgevoerd wanneer de gebuiker stopt met typen.\r\n            if (!this.debounceDoSearch) {\r\n                this.debounceDoSearch = _.debounce(this.doSearch, 500);\r\n            }\r\n\r\n            //roep de methode aan die de zoek functie aanroept\r\n            this.debounceDoSearch(text);\r\n\r\n            //Als je op het hoofscherm bent ga dan naar de result screen\r\n            if (this.props.location.pathname === \"/\") {\r\n                this.props.history.push('/result')\r\n\r\n                //als je niet op het resultaten scherm zit ga dan eentje terug\r\n            } else if (this.props.location.pathname !== \"/result\") {\r\n                this.props.history.goBack();\r\n            }\r\n        } else {\r\n            //als de zoekbar text leeg is\r\n            this.setState({\r\n                searchQuery: \"\",\r\n                isFetching: false\r\n            });\r\n\r\n            //verwijder alle resultaten\r\n            this.state.results.clearAll();\r\n\r\n            //ga terug naar het hoofdscherm\r\n            if (this.props.location.pathname === \"/result\") {\r\n                this.props.history.goBack();\r\n            } else if (this.props.location.pathname !== '/') {\r\n                this.props.history.go(-2);\r\n            }\r\n        }\r\n\r\n        //centreer de kaart weer.\r\n        if (this.map) {\r\n            this.map.setView([52.20936, 5.2], 8);\r\n        }\r\n    };\r\n\r\n    /**\r\n     * Roept de communicator aan en haalt de resultaten op.\r\n     **/\r\n    doSearch = (text) => {\r\n        /**\r\n         * Roep de getMatch functie aan van de communicator\r\n         **/\r\n        Communicator.getMatch(text.trim(), this.state.currentSelected).then(res => {\r\n            //als je een error terug krijgt, dan betekent dat je wel een antwoord hebt maar dat het niet werkt.\r\n\r\n            if (res === \"error\") {\r\n                this.setState({\r\n                    isFetching: false\r\n                })\r\n\r\n                //als je undefined terug krijgt betekent het dat het een oude search query is.\r\n                //Dus als het niet undefined is, betekent dat het het huidige search query is.\r\n            } else if (res !== undefined) {\r\n                this.setState({\r\n                    isFetching: false\r\n                });\r\n                this.state.results.setResults(res);\r\n            }\r\n        });\r\n    };\r\n\r\n    /**\r\n     * Wanneer er op het kruisje in de search bar wordt geklikt.\r\n     **/\r\n    handleDeleteClick = () => {\r\n        this.onSearchChange({}, {value: \"\"});\r\n    };\r\n\r\n    /**\r\n     * Wanneer er op de terug knop wordt geklikt in de applicatie aka <-- terug.\r\n     **/\r\n    handleOnBackButtonClick = () => {\r\n        /**\r\n         * Kijk of je op een resultaat scherm bent\r\n         */\r\n        let match = matchPath(this.props.location.pathname, {\r\n            path: \"/result/:id\",\r\n            exact: true,\r\n            strict: true\r\n        });\r\n\r\n        if (this.props.location.pathname === \"/result\") {\r\n            //Als je op de result screen bent ga dan terug naar het hoofdscherm\r\n            this.handleDeleteClick();\r\n        } else if (match) {\r\n            //ga eerst een pagina terug\r\n            this.props.history.goBack();\r\n\r\n            //Als je op een geklikte resultaat scherm bent ga dan terug naar de result scherm\r\n            this.state.results.clearClickedResult();\r\n        }\r\n    };\r\n\r\n    /**\r\n     * Deze methode wordt aangeropen elke keer als de resultaten houder wordt geupdate.\r\n     */\r\n    update = () => {\r\n        let results = this.state.results;\r\n\r\n        this.setState({\r\n            results: results\r\n        });\r\n\r\n        /**\r\n         * Soms wordt de update functie iets te vaak angereoepen dus debounce het\r\n         */\r\n        if (!this.updateMapDebounce) {\r\n            this.updateMapDebounce = _.debounce(this.updateMap, 200);\r\n        }\r\n\r\n        this.updateMapDebounce(results);\r\n    };\r\n\r\n    /**\r\n     * Wordt aangeroepen als er op het tandwieltje wordt geklikt.\r\n     * @param e\r\n     * @param v\r\n     */\r\n    dropDownSelector = (e, v) => {\r\n        if (this.state.currentSelected !== v.value) {\r\n            this.setState({\r\n                currentSelected: v.value,\r\n                isFetching: false\r\n            }, () => {\r\n                this.handleDeleteClick();\r\n            })\r\n        }\r\n    };\r\n\r\n    /**\r\n     * Update de kaart.\r\n     **/\r\n    updateMap = () => {\r\n        let results = this.state.results;\r\n\r\n        //haal eerst alle marker weg\r\n        this.markerGroup.clearLayers();\r\n        this.geoJsonLayer.clearLayers();\r\n\r\n        //als er een geklikt resultaat is, render dan alleen deze\r\n        if (this.state.results.getClickedResult()) {\r\n            let feature = this.state.results.getClickedResult().getAsFeature();\r\n            this.geoJsonLayer.addData(feature);\r\n        } else if (this.state.results.getRightClickedRes().length > 0) {\r\n            let geoJsonResults = results.getClickedAllObjectsAsFeature();\r\n            this.geoJsonLayer.addData(geoJsonResults);\r\n        } else {\r\n            //anders render alle opgehaalde resultaten.\r\n            if (this.state.searchQuery) {\r\n                let geoJsonResults = results.getSearchedAllObjectsAsFeature();\r\n                this.geoJsonLayer.addData(geoJsonResults);\r\n            }\r\n        }\r\n    };\r\n\r\n    /**\r\n     * Wordt aangeroepen wanneer iemand op de zoekbalk klikt.\r\n     */\r\n    onFocus = () => {\r\n        if (this.state.results.getRightClickedRes().length > 0) {\r\n            this.handleDeleteClick();\r\n        } else if (this.state.results.getClickedResult()) {\r\n            this.handleOnBackButtonClick();\r\n        }\r\n    };\r\n\r\n    getZoekResultatenAantal = () => {\r\n        let aantalZoekResultaten;\r\n\r\n        if (this.state.results.getClickedResult()) {\r\n\r\n        } else if (this.state.results.getRightClickedRes().length > 0) {\r\n            aantalZoekResultaten = this.state.results.getRightClickedRes().length;\r\n        } else {\r\n            aantalZoekResultaten = this.state.results.getResults().length;\r\n        }\r\n\r\n        if(aantalZoekResultaten > 989){\r\n            aantalZoekResultaten = 900 + \"+\";\r\n        }\r\n\r\n        return aantalZoekResultaten;\r\n    }\r\n\r\n    render() {\r\n        let aantalZoekResultaten = this.getZoekResultatenAantal();\r\n\r\n        let gearIcon;\r\n\r\n        const options = Communicator.getOptions();\r\n        if (options.length > 1) {\r\n            gearIcon = (<Dropdown\r\n                className=\"cogIcon\"\r\n                icon='cog'\r\n                upward={true}\r\n            >\r\n                <Dropdown.Menu>\r\n                    <Dropdown.Header\r\n                        content=\"Selecteer end-point\"\r\n                    />\r\n                    <Dropdown.Divider\r\n                    />\r\n                    {options.map((option) => (\r\n                        <Dropdown.Item\r\n                            className=\"dropDownItem\"\r\n                            key={option.value} {...option}\r\n                            active={this.state.currentSelected === option.value}\r\n                            onClick={this.dropDownSelector}\r\n                        />\r\n                    ))}\r\n                </Dropdown.Menu>\r\n            </Dropdown>);\r\n        }\r\n\r\n        let icon;\r\n        let className;\r\n\r\n        if (this.state.searchQuery || this.state.results.getRightClickedRes().length > 0) {\r\n            icon = <Icon name='delete' link onClick={this.handleDeleteClick}/>;\r\n        } else {\r\n            icon = <Icon name='search'/>;\r\n        }\r\n\r\n        if (!this.state.updateIng) {\r\n            className = \"mapHolder\";\r\n        } else {\r\n            className = \"mapHolderLoading\"\r\n        }\r\n\r\n        return (\r\n            <section className=\"App\">\r\n                <div className=\"brtInfo\">\r\n                    <Link to=\"/\" onClick={() => {\r\n                        this.handleDeleteClick();\r\n                    }}>\r\n                        <div className=\"header\">\r\n                            <h1>Verkaufsbücher</h1><img src={KadasterImg} alt=\"kadaster logo\"/>\r\n                        </div>\r\n                    </Link>\r\n                    <div className=\"searchBar\">\r\n                        <Search input={{fluid: true}}\r\n                                value={this.state.results.getRightClickedRes().length > 1 ? \"[ Kaartresultaten worden getoond ]\" : this.state.searchQuery}\r\n                                noResultsMessage=\"Geen resultaat\"\r\n                                icon={icon}\r\n                                onSearchChange={this.onSearchChange}\r\n                                open={false}\r\n                                onFocus={this.onFocus}\r\n                        />\r\n                    </div>\r\n                    <div className=\"resultsContainer\">\r\n                        <NavBar\r\n                            loading={this.state.isFetching}\r\n                            onBack={this.handleOnBackButtonClick}\r\n                            aantalZoekResultaten = {aantalZoekResultaten}\r\n                        />\r\n                        <div className=\"loaderDiv\">\r\n                            <Loader\r\n                                loading={this.state.isFetching}\r\n                            />\r\n                        </div>\r\n                        <div className=\"resultPartContainer\">\r\n                            <Routes\r\n                                res={this.state.results}\r\n                                clickedResult={this.state.results.getClickedResult()}\r\n                                onClickItem={this.onClickItem}\r\n                                getHexFromColor={this.getHexFromColor}\r\n                            />\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"footer\">\r\n                        {gearIcon}\r\n                        <a href=\"https://www.nationaalarchief.nl/\" target=\"_blank\" rel=\"noreferrer noopener\">Meer van het\r\n                        Nationaal Archief</a>\r\n                    </div>\r\n                </div>\r\n                <div className={className} onContextMenu={(e) => e.preventDefault()}>\r\n                    <Loader\r\n                        loading={this.state.updateIng}\r\n                    />\r\n                    <div id=\"map\"/>\r\n                </div>\r\n                <ContextMenu\r\n                    coordinates={this.state.clickedOnLayeredMap}\r\n                    resetCoordinates={this.resetClickedOnLayeredMap}\r\n                    objectsOverLayedOnMap={this.state.objectsOverLayedOnMap}\r\n                    getHexFromColor={this.getHexFromColor}\r\n                />\r\n            </section>\r\n        )\r\n    }\r\n}\r\n\r\nexport default withRouter(App);\r\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport {HashRouter} from \"react-router-dom\";\n\nReactDOM.render(\n    <HashRouter>\n        <App/>\n    </HashRouter>,\n    document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}